{"pageProps":{"post":{"attributes":{},"html":"<h1 id=\"creating-a-product-item-component-and-use-it\">Creating a Product Item Component and use it</h1>\n<p>Create a new file with the following contents</p>\n<h2 id=\"componentsproductitem\">components/ProductItem</h2>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ProductItem</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">HTMLElement</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-variable language_\">super</span>();    \n    }   \n\n    <span class=\"hljs-title function_\">connectedCallback</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-keyword\">const</span> template = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&quot;product-item-template&quot;</span>);\n        <span class=\"hljs-keyword\">const</span> content = template.<span class=\"hljs-property\">content</span>.<span class=\"hljs-title function_\">cloneNode</span>(<span class=\"hljs-literal\">true</span>);\n\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">appendChild</span>(content);    \n\n        <span class=\"hljs-keyword\">const</span> product = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">dataset</span>.<span class=\"hljs-property\">product</span>);\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&quot;h4&quot;</span>).<span class=\"hljs-property\">textContent</span> = product.<span class=\"hljs-property\">name</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&quot;p.price&quot;</span>).<span class=\"hljs-property\">textContent</span> = <span class=\"hljs-string\">`$<span class=\"hljs-subst\">${product.price.toFixed(<span class=\"hljs-number\">2</span>)}</span>`</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&quot;img&quot;</span>).<span class=\"hljs-property\">src</span> = <span class=\"hljs-string\">`data/images/<span class=\"hljs-subst\">${product.image}</span>`</span>;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&quot;a&quot;</span>).<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&quot;click&quot;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">event</span> =&gt;</span> {\n            <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(event.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span>);\n            <span class=\"hljs-keyword\">if</span> (event.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span>.<span class=\"hljs-title function_\">toLowerCase</span>()==<span class=\"hljs-string\">&quot;button&quot;</span>) {\n                <span class=\"hljs-comment\">//TODO</span>\n            } <span class=\"hljs-keyword\">else</span> {\n                app.<span class=\"hljs-property\">router</span>.<span class=\"hljs-title function_\">go</span>(<span class=\"hljs-string\">`/product-<span class=\"hljs-subst\">${product.id}</span>`</span>);\n            }\n            event.<span class=\"hljs-title function_\">preventDefault</span>();\n        })\n      }\n}\n\ncustomElements.<span class=\"hljs-title function_\">define</span>(<span class=\"hljs-string\">&quot;product-item&quot;</span>, <span class=\"hljs-title class_\">ProductItem</span>);\n</code></pre>\n<p>Now in the placeholder of <code>MenuPage</code> let&#39;s use it</p>\n<pre><code class=\"hljs language-js\">category.<span class=\"hljs-property\">products</span>.<span class=\"hljs-title function_\">map</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">product</span> =&gt;</span> {\n    <span class=\"hljs-keyword\">const</span> item = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&quot;product-item&quot;</span>);\n    item.<span class=\"hljs-property\">dataset</span>.<span class=\"hljs-property\">product</span> = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(product);\n    liCategory.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&quot;ul&quot;</span>).<span class=\"hljs-title function_\">appendChild</span>(item);\n});\n</code></pre>\n","slug":"creating-product-item-component","title":"Creating Product Item Component","section":"Reactive Programming","icon":"chain","filePath":"/Users/firt/Library/Mobile Documents/com~apple~CloudDocs/Trainings/FEM/YDNTL/vanilla/lessons/05-reactive-programming/C-creating-product-item-component.md","nextSlug":"/vanilla/lessons/reactive-programming/creating-product-details","prevSlug":"/vanilla/lessons/reactive-programming/rendering-menu"}},"__N_SSG":true}