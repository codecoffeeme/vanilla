{"pageProps":{"post":{"attributes":{},"html":"<h1 id=\"binding-form-data\">Binding Form Data</h1>\n<p>At <code>components/OrderPage.js</code> add the following property</p>\n<pre><code class=\"hljs language-js\">  #user = {\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;&quot;</span>,\n    <span class=\"hljs-attr\">phone</span>: <span class=\"hljs-string\">&quot;&quot;</span>,\n    <span class=\"hljs-attr\">email</span>: <span class=\"hljs-string\">&quot;&quot;</span>\n  }\n</code></pre>\n<p>And within the class, create a new method</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title function_\">setFormBindings</span>(<span class=\"hljs-params\">form</span>) {\n    form.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&quot;submit&quot;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">event</span> =&gt;</span> {\n      event.<span class=\"hljs-title function_\">preventDefault</span>();\n      <span class=\"hljs-title function_\">alert</span>(<span class=\"hljs-string\">`Thanks for your order <span class=\"hljs-subst\">${<span class=\"hljs-variable language_\">this</span>.#user.name}</span>. <span class=\"hljs-subst\">${<span class=\"hljs-variable language_\">this</span>.#user.email ? <span class=\"hljs-string\">&quot;We will be sending you the receipt over email.&quot;</span> : <span class=\"hljs-string\">&quot;Ask at the counter for a receipt.&quot;</span>}</span>`</span>);\n      <span class=\"hljs-variable language_\">this</span>.#user.<span class=\"hljs-property\">name</span> = <span class=\"hljs-string\">&quot;&quot;</span>;\n      <span class=\"hljs-variable language_\">this</span>.#user.<span class=\"hljs-property\">email</span> = <span class=\"hljs-string\">&quot;&quot;</span>;\n      <span class=\"hljs-variable language_\">this</span>.#user.<span class=\"hljs-property\">phone</span> = <span class=\"hljs-string\">&quot;&quot;</span>;\n\n      <span class=\"hljs-comment\">// <span class=\"hljs-doctag\">TODO:</span> sent user and cart&#x27;s details to the server</span>\n    });\n\n    <span class=\"hljs-comment\">// Set double data binding</span>\n    <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">from</span>(form.<span class=\"hljs-property\">elements</span>).<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">element</span> =&gt;</span> {\n      <span class=\"hljs-keyword\">if</span> (element.<span class=\"hljs-property\">name</span>) {\n        element.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&quot;change&quot;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">event</span> =&gt;</span> {\n          <span class=\"hljs-variable language_\">this</span>.#user[element.<span class=\"hljs-property\">name</span>] = element.<span class=\"hljs-property\">value</span>;\n        })\n      }\n    });\n    <span class=\"hljs-variable language_\">this</span>.#user = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(<span class=\"hljs-variable language_\">this</span>.#user, {\n      <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">target, property, value</span>) {\n        target[property] = value;\n        form.<span class=\"hljs-property\">elements</span>[property].<span class=\"hljs-property\">value</span> = value;\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n      }\n    })\n  }\n</code></pre>\n<p>Finally, call it from <code>render</code></p>\n<pre><code class=\"hljs language-js\">      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">setFormBindings</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">root</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&quot;form&quot;</span>));\n</code></pre>\n","slug":"binding-form-data","title":"Binding Form Data","section":"Reactive Programming","icon":"chain","filePath":"/Users/firt/Library/Mobile Documents/com~apple~CloudDocs/Trainings/FEM/YDNTL/vanilla/lessons/05-reactive-programming/H-binding-form-data.md","nextSlug":"/vanilla/lessons/bonus/final-code","prevSlug":"/vanilla/lessons/reactive-programming/finishing-the-cart"}},"__N_SSG":true}