{"pageProps":{"post":{"attributes":{},"html":"<h1 id=\"setting-up-order-service\">Setting Up Order service</h1>\n<p>Create a <code>service/Order.js</code> file with the following content</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> { getProductById } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;./Menu.js&quot;</span>;\n\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">placeOrder</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-title function_\">alert</span>(<span class=\"hljs-string\">&quot;Your order will be ready under the number &quot;</span> + \n    <span class=\"hljs-built_in\">parseInt</span>(<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">random</span>()*<span class=\"hljs-number\">100</span>));\n    app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">menu</span> = [];\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addToCart</span>(<span class=\"hljs-params\">id</span>) {\n    <span class=\"hljs-keyword\">const</span> product = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">getProductById</span>(id);\n    <span class=\"hljs-keyword\">const</span> results = app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">cart</span>.<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">prodInCart</span> =&gt;</span> prodInCart.<span class=\"hljs-property\">product</span>.<span class=\"hljs-property\">id</span>==id);\n    <span class=\"hljs-keyword\">if</span> (results.<span class=\"hljs-property\">length</span> == <span class=\"hljs-number\">1</span>) {\n        app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">cart</span> = app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">cart</span>.<span class=\"hljs-title function_\">map</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">p</span> =&gt;</span>  p.<span class=\"hljs-property\">product</span>.<span class=\"hljs-property\">id</span>==id ? {...p, <span class=\"hljs-attr\">quantity</span>: p.<span class=\"hljs-property\">quantity</span>+<span class=\"hljs-number\">1</span>} : p)\n    } <span class=\"hljs-keyword\">else</span> {\n        app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">cart</span> = [...app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">cart</span>, {product, <span class=\"hljs-attr\">quantity</span>: <span class=\"hljs-number\">1</span>}];\n    }\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">removeFromCart</span>(<span class=\"hljs-params\">id</span>) {\n    app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">cart</span> = app.<span class=\"hljs-property\">store</span>.<span class=\"hljs-property\">cart</span>.<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">prodInCart</span> =&gt;</span> prodInCart.<span class=\"hljs-property\">product</span>.<span class=\"hljs-property\">id</span>!=id);\n}\n\n</code></pre>\n","slug":"setting-up-order","title":"Setting up Order","section":"Reactive Programming","icon":"chain","filePath":"/Users/firt/Library/Mobile Documents/com~apple~CloudDocs/Trainings/FEM/YDNTL/vanilla/lessons/05-reactive-programming/E-setting-up-order.md","nextSlug":"/vanilla/lessons/reactive-programming/listening-for-cart-updates","prevSlug":"/vanilla/lessons/reactive-programming/creating-product-details"}},"__N_SSG":true}