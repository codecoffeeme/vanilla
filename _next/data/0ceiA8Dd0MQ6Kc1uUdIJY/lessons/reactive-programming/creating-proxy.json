{"pageProps":{"post":{"attributes":{},"html":"<h1 id=\"creating-a-proxy\">Creating a Proxy</h1>\n<p>Open <code>services/Store.js</code> and replace it with</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-variable constant_\">API</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;./API.js&#x27;</span>\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Store</span> = {\n    <span class=\"hljs-attr\">menu</span>: <span class=\"hljs-literal\">null</span>,\n    <span class=\"hljs-attr\">cart</span>: []\n} \n\n<span class=\"hljs-keyword\">const</span> proxiedStore = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(<span class=\"hljs-title class_\">Store</span>, {\n    <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">target, property, value</span>) {\n        target[property]=value;\n        <span class=\"hljs-keyword\">if</span> (property==<span class=\"hljs-string\">&quot;menu&quot;</span>) {\n            <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">dispatchEvent</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Event</span>(<span class=\"hljs-string\">&quot;appmenuchange&quot;</span>));\n        }\n        <span class=\"hljs-keyword\">if</span> (property==<span class=\"hljs-string\">&quot;cart&quot;</span>) {\n            <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">dispatchEvent</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Event</span>(<span class=\"hljs-string\">&quot;appcartchange&quot;</span>));\n        }\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n    },\n    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">target, property</span>) {\n        <span class=\"hljs-keyword\">return</span> target[property]\n    }\n  }    \n)\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> proxiedStore;\n</code></pre>\n","slug":"creating-proxy","title":"Creating Proxy","section":"Reactive Programming","icon":"chain","filePath":"/Users/firt/Library/Mobile Documents/com~apple~CloudDocs/Trainings/FEM/YDNTL/vanilla/lessons/05-reactive-programming/A-creating-proxy.md","nextSlug":"/vanilla/lessons/reactive-programming/rendering-menu","prevSlug":"/vanilla/lessons/web-components/import-stylesheets"}},"__N_SSG":true}